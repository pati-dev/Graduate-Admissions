---
title: "main-nitesh"
author: "Nitesh Singh Jaswal"
date: "March 26, 2019"
output: html_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
library(tidyverse)
library(MASS)
library(arm)
library(broom)
```

```{r}
inter.data = read.csv("International-graduate-student-survey-results.csv")
# summary(inter.data)
# Q39
acad.experience = rowSums(select(inter.data, Q39_1 , Q39_2 , Q39_3 , Q39_4 , Q39_5 , Q39_6 , Q39_7), na.rm = FALSE, dims = 1)/7
acad.experience = factor(round(acad.experience))
# Q43
acad.challenges =  factor(as.numeric(inter.data$Q43_1 | inter.data$Q43_2 |inter.data$Q43_3 |inter.data$Q43_4 |inter.data$Q43_5 |inter.data$Q43_7))
inter.small = select(inter.data, Q2, Q3, Q4, Q5, Q22, Q40, Q41, Q42, Q28)
inter.small$Q39 = acad.experience
inter.small$Q43 = acad.challenges
# Factoring the response
inter.small$Q28 = factor(inter.small$Q28, labels= c("Yes", "Not Sure", "No"))
```

```{r}
# Acad Challenges vs Response
ggplot(inter.small, aes(x = Q43, y = Q28)) + geom_jitter(width = 0.2, height = 0.2)
# Acad experience vs Response
ggplot(inter.small, aes(x = Q39, y = Q28)) + geom_jitter(width = 0.2, height = 0.2)
# Acad experience and Acad Challenges vs Response
ggplot(inter.small, aes(x = Q39, y = Q43, color = Q28)) + geom_jitter(width = 0.2, height = 0.2)
# Age vs Response
ggplot(inter.small, aes(x = Q2, y = Q28)) + geom_jitter(width = 0.2, height = 0.2)
# Discipline of degree vs response
ggplot(inter.small, aes(x = Q2, y = Q28)) + geom_jitter(width = 0.2, height = 0.2)

ggplot(inter.small, aes(x = Q39, fill = Q28)) + stat_count()
ggplot(inter.small, aes(x = Q43, fill = Q28)) + stat_count()
# summary(inter.small$Q42)
```
```{r}
# Preliminary model
inter.polr = polr(Q28~Q39 + Q43, data = inter.small)
display(inter.polr)
inter.polr.df = augment(inter.polr)
# inter.polr.df$.resid = inter.polr.df$.fitted
# var(inter.polr.df$.fitted)/(var(inter.polr.df$.fitted) + var(inter.polr.df$.resid))
```

Questions to ask professor Luen:
1. Can we take mean of multiple discrete variables representing more or less the same parameter and treat it as a continuous variabele? For example, can we aggregate the various parameters representing academic experience and treat that value as a continuous variable representing a sort of academic experience score?
2. 
Variables to consider (Know of the land):
Age: Q2
Gender: Q3
Degree pursuing: Q4
Discipline of degree: Q5
What is your home country: Q22

Response variable:
Want to remain in US after graduation: Q28 

Predictor Variables:
Academic experience in comparison with your home country: Q39
Treatment by Prof/Colleagues in comparison with your home country: Q40
Treatment by Prof/Colleagues if you went back to your home country: Q41
Adjustment to American educational culture: Q42
Challenges encountered in the US: Q43





